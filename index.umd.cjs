(function(n,i){typeof exports=="object"&&typeof module<"u"?i(exports):typeof define=="function"&&define.amd?define(["exports"],i):(n=typeof globalThis<"u"?globalThis:n||self,i(n.MyLib={}))})(this,function(n){"use strict";var g=Object.defineProperty;var m=(n,i,o)=>i in n?g(n,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[i]=o;var s=(n,i,o)=>(m(n,typeof i!="symbol"?i+"":i,o),o);class i{constructor({name:e,height:t,width:a,x:h,y:r,color:d,speed:j}){s(this,"name");s(this,"x");s(this,"y");s(this,"width");s(this,"height");s(this,"color");s(this,"speed");this.name=e,this.height=t,this.width=a,this.x=h,this.y=r,this.color=d||"#0000ff",this.speed=j||1}}class o extends i{constructor({name:e,radius:t,x:a,y:h,color:r,speed:d}){super({name:e,height:t,width:t,x:a,y:h,color:r,speed:d})}}class l extends i{}class u{constructor({width:e,height:t}){s(this,"canvas");s(this,"context");s(this,"width");s(this,"height");this.width=e,this.height=t}getContainer(){return this.canvas}createContainer(){this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,document.body.appendChild(this.canvas),this.context=this.canvas.getContext("2d")}render(e){this.context.clearRect(0,0,this.canvas.width,this.canvas.height);for(const t of e)this.context.fillStyle=t.color,t instanceof o&&(this.context.arc(t.x,t.y,t.width,0,Math.PI*2,!1),this.context.beginPath(),this.context.arc(t.x,t.y,t.width,0,Math.PI*2,!1),this.context.fill()),t instanceof l&&(this.context.strokeRect(t.x,t.y,t.width,t.height),this.context.fillRect(t.x,t.y,t.width,t.height))}}class f{addInputListener(e){document.addEventListener("keydown",t=>{e(t)})}}class b{constructor({height:e,width:t,inputHandleObjectPort:a,uiHandleObjectPort:h}){s(this,"uiHandleObjectPort");s(this,"inputHandleObjectPort");s(this,"objects",[]);h||(this.uiHandleObjectPort=new u({width:t,height:e})),a||(this.inputHandleObjectPort=new f),this.uiHandleObjectPort.createContainer(),this.setupInput()}setDependencies(){}addObject(e){this.objects.push(e)}removeObject(e){const t=this.objects.indexOf(e);t!==-1&&this.objects.splice(t,1)}update(){for(const e of this.objects)e.update(this)}render(){this.uiHandleObjectPort.render(this.objects)}setupInput(){this.inputHandleObjectPort.addInputListener(e=>{for(const t of this.objects)t.handleInput(e)})}start(){this.setDependencies();const e=()=>{this.update(),this.render(),requestAnimationFrame(e)};e()}getContainer(){return this.uiHandleObjectPort.getContainer()}getObjects(){return this.objects}}class p{static getRandomValue(e,t){return Math.floor(Math.random()*t)+e}static getRandomColor(){const e=Math.floor(Math.random()*256),t=Math.floor(Math.random()*256),a=Math.floor(Math.random()*256);return`#${e.toString(16).padStart(2,"0")}${t.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}`}}n.Circle=o,n.Game=b,n.GenericObject=i,n.RandomValues=p,n.Rect=l,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});
